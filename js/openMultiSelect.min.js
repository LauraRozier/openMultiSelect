/**
 * Open Multi Select for MDBootstrap
 * Version: 1.0.0
 *
 *
 * ----------------------------------------------------------------------------
 * "THE BEER-WARE LICENSE" (Revision 44):
 * Author: Thimo Braker <thibmorozier@gmail.com>
 * File: openMultiSelect.min.js
 *
 * As long as you retain this notice anywhere in the file and/or the file's
 * directory you can do whatever you want with this stuff. If we meet someday,
 * and you think this stuff is worth it, you can buy me a beer in return.
 * ----------------------------------------------------------------------------
 *
 *
 * Documentation: https://github.com/thibmo/openMultiSelect
 *
 * Support: https://github.com/thibmo/openMultiSelect
 *
 * Contact: contact@kp-wiki.org
 *
 * Atribution: MDBootstrap, Bootstrap 4, jQuery
 *
 */
!function(t,e,s,i){"use strict";const a="openMultiSelect",l="plugin_"+a,n={initial:[],available:[],selected:[]},o={availableUrl:"",selectedUrl:"",method:"GET"};function d(e,s){this._name=a,this.settings=t.extend(!0,{},t.fn.openMultiSelect.defaults,s),this.element=e,this.$element=t(this.element),this.valueElement=null,this.availableElement=null,this.selectedElement=null,this.buttonElement=null,this.items=n,this.init()}t.extend(d.prototype,{arrayRemove:function(t,e){return t.filter(function(t){return t!==e})},arrayContains:function(t,e){for(let s in e)if(e[s]===t)return!0;return!1},cbSelectItem:function(e){e.preventDefault(),e.stopImmediatePropagation();const s=t(e.target).removeClass("oms-item-"+e.data.settings.availableItemColor).addClass("oms-item-"+e.data.settings.selectedItemColor).off("click").click(e.data,e.data.cbUnselectItem);e.data.items.selected.push(s.val()),e.data.valueElement.val(JSON.stringify(e.data.items.selected)),s.appendTo(e.data.selectedElement.find(".oms-list-body"))},cbUnselectItem:function(e){e.preventDefault(),e.stopImmediatePropagation();const s=t(e.target).removeClass("oms-item-"+e.data.settings.selectedItemColor).addClass("oms-item-"+e.data.settings.availableItemColor).off("click").click(e.data,e.data.cbSelectItem);e.data.items.selected=e.data.arrayRemove(e.data.items.selected,s.val()),e.data.valueElement.val(JSON.stringify(e.data.items.selected)),s.appendTo(e.data.availableElement.find(".oms-list-body"))},cbResetSelection:function(t){t.preventDefault(),t.stopImmediatePropagation(),t.data.resetSelection()},cbSelectAll:function(e){e.preventDefault(),e.stopImmediatePropagation();const s=e.data.availableElement.find(".oms-list-body").find(".oms-item");t.each(s,function(s,i){const a=t(i);e.data.items.selected.push(a.val()),a.removeClass("oms-item-"+e.data.settings.availableItemColor).addClass("oms-item-"+e.data.settings.selectedItemColor).off("click").click(e.data,e.data.cbUnselectItem).appendTo(e.data.selectedElement.find(".oms-list-body"))}),e.data.valueElement.val(JSON.stringify(e.data.items.selected))},cbUnselectAll:function(e){e.preventDefault(),e.stopImmediatePropagation();const s=e.data.selectedElement.find(".oms-list-body").find(".oms-item");t.each(s,function(s,i){const a=t(i);e.data.items.selected=e.data.arrayRemove(e.data.items.selected,a.val()),a.removeClass("oms-item-"+e.data.settings.selectedItemColor).addClass("oms-item-"+e.data.settings.availableItemColor).off("click").click(e.data,e.data.cbSelectItem).appendTo(e.data.availableElement.find(".oms-list-body"))}),e.data.valueElement.val(JSON.stringify(e.data.items.selected))},render:function(){const e=this.availableElement.find(".oms-list-body").empty(),s=this.selectedElement.find(".oms-list-body").empty();this.valueElement.val(JSON.stringify(this.items.selected)),t.each(this.items.available,function(i,a){const l=t("<span />").attr({class:"oms-item"}).text(a.text).val(a.value);this.arrayContains(a.value,this.items.selected)?s.append(l.addClass("oms-item-"+this.settings.selectedItemColor).click(this,this.cbUnselectItem)):e.append(l.addClass("oms-item-"+this.settings.availableItemColor).click(this,this.cbSelectItem))}.bind(this))},reloadAvailableItems:function(e,s){e=void 0!==e?e:null,s=void 0===s||s,null!==e&&(null===this.settings.ajax?this.settings.ajax=t.extend(!0,{},o,{availableUrl:e}):this.settings.ajax.availableUrl=e);const i=t.extend(!0,{},o,this.settings.ajax);if(this.items=n,null===i.availableUrl)return!0;t.ajax({url:i.availableUrl,async:!0,accepts:"application/json",cache:!1,type:this.settings.ajax.method}).done(function(e){return this.items.available=t.extend(!0,{},e),!0===s&&this.render(),!0}.bind(this)).fail(function(t){return alert("Unable to handle the request due to an AJAX fault!\nResponse : "+t.responseText),!1})},reloadSelectedItems:function(e,s){e=void 0!==e?e:null,s=void 0===s||s,null!==e&&(null===this.settings.ajax?this.settings.ajax=t.extend(!0,{},o,{selectedUrl:e}):this.settings.ajax.selectedUrl=e);const i=t.extend(!0,{},o,this.settings.ajax);if(this.items=n,null===i.selectedUrl)return!0;t.ajax({url:i.selectedUrl,async:!0,accepts:"application/json",cache:!1,type:this.settings.ajax.method}).done(function(t){return this.items.initial=Array.from(t),this.items.selected=Array.from(t),!0===s&&this.render(),!0}.bind(this)).fail(function(t){return alert("Unable to handle the request due to an AJAX fault!\nResponse : "+t.responseText),!1})},reloadItems:function(t,e,s){t=void 0!==t?t:null,e=void 0!==e?e:null,s=void 0===s||s,this.reloadAvailableItems(t,s),this.reloadSelectedItems(e,s)},resetSelection:function(){this.items.selected=Array.from(this.items.initial),this.render()},clearItems:function(){this.items=n,this.render()},setAvailableItems:function(e,s){s=void 0===s||s,this.items.available=t.extend(!0,{},e),!0===s&&this.render()},setSelectedItems:function(t,e){e=void 0===e||e,this.items.initial=Array.from(t),this.items.selected=Array.from(t),!0===e&&this.render()},setItems:function(t,e,s){s=void 0===s||s,this.setAvailableItems(t,!1),this.setSelectedItems(e,!1),!0===s&&this.render()},getConfig:function(){return t.extend(!0,{},this.settings)},setConfig:function(e,s,i){s=void 0===s||s,i=void 0===i||i,this.settings=t.extend(!0,{},this.settings,e),!0===s&&this.reloadItems(null,null,!1),!0===i&&this.render()},init:function(){this.valueElement=t("<input />").attr({name:this.settings.name,type:"hidden"}),this.availableElement=t("<div />").attr({class:"oms-available-list"}).append(t("<div />").attr({class:"oms-list-header oms-list-header-"+this.settings.headerColor}).text("Available Items"),t("<div />").attr({class:"oms-list-body"})),this.selectedElement=t("<div />").attr({class:"oms-selected-list"}).append(t("<div />").attr({class:"oms-list-header oms-list-header-"+this.settings.headerColor}).text("Selected Items"),t("<div />").attr({class:"oms-list-body"})),this.buttonElement=t("<div />").attr({class:"oms-controls"}).append(t("<button />").attr({class:"btn btn-block btn-"+this.settings.buttonColor+" mb-1"}).text("Reset Selection").click(this,this.cbResetSelection),t("<button />").attr({class:"btn btn-block btn-"+this.settings.buttonColor+" mt-3"}).text("Select All").click(this,this.cbSelectAll),t("<button />").attr({class:"btn btn-block btn-"+this.settings.buttonColor+" mt-3"}).text("Unselect All").click(this,this.cbUnselectAll)),this.$element.append(t("<div />").attr({class:"row mt-5 mb-4 clearfix"}).append(this.valueElement,this.availableElement,this.buttonElement,this.selectedElement));const e=navigator.userAgent.toLowerCase();if(e.indexOf("msie")>-1||e.indexOf("trident/")>-1||e.indexOf("edge/")>-1||e.indexOf("opera")>-1||e.indexOf("opr/")>-1){const t={"padding-right":"20px","overflow-x":"hidden"};this.availableElement.find(".oms-list-body").css(t),this.selectedElement.find(".oms-list-body").css(t)}null!==this.settings.ajax&&this.reloadItems()},destroy:function(){this.clearItems(),this.$element.empty(),this.$element.removeData(l)}}),t.fn.openMultiSelect=function(e){const s=Array.prototype.slice.call(arguments,1);if(void 0===e||"object"==typeof e)return this.each(function(s,i){t.data(i,l)||t.data(i,l,new d(i,e))});if("string"==typeof e&&"_"!==e[0]&&"init"!==e){let i;return this.each(function(a,n){const o=t.data(n,l);o instanceof d&&"function"==typeof o[e]&&(i=o[e].apply(o,s))}),void 0!==i?i:this}return this},t.fn.openMultiSelect.defaults={name:"oms-value-input",ajax:null,availableItemColor:"red",selectedItemColor:"green",buttonColor:"primary",headerColor:"mdb-color"}}(jQuery,window,document);
//# sourceMappingURL=openMultiSelect.min.js.map